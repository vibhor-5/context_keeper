# Kubernetes secrets configuration for ContextKeeper MCP + Slack Bot
# NOTE: This is a template file. Replace with actual secret values before applying.

apiVersion: v1
kind: Secret
metadata:
  name: contextkeeper-secrets
  namespace: contextkeeper
  labels:
    app: contextkeeper
type: Opaque
data:
  # Slack signing secret (base64 encoded)
  # Replace with: echo -n "your-slack-signing-secret" | base64
  slack-signing-secret: eW91ci1zbGFjay1zaWduaW5nLXNlY3JldA==
  
  # GitHub OAuth credentials (base64 encoded)
  # Replace with: echo -n "your-github-client-id" | base64
  github-client-id: eW91ci1naXRodWItY2xpZW50LWlk
  
  # Replace with: echo -n "your-github-client-secret" | base64
  github-client-secret: eW91ci1naXRodWItY2xpZW50LXNlY3JldA==
  
  # JWT secret (base64 encoded)
  # Replace with: echo -n "your-jwt-secret" | base64
  jwt-secret: eW91ci1qd3Qtc2VjcmV0
  
  # PostgreSQL password (base64 encoded)
  # Replace with: echo -n "your-postgres-password" | base64
  postgres-password: eW91ci1wb3N0Z3Jlcy1wYXNzd29yZA==

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: contextkeeper-config
  namespace: contextkeeper
  labels:
    app: contextkeeper
data:
  # Application configuration
  NODE_ENV: "production"
  LOG_LEVEL: "info"
  
  # MCP Server configuration
  MCP_PORT: "3001"
  MCP_TIMEOUT: "30000"
  MCP_CORS_ORIGINS: "*"
  
  # Slack Bot configuration
  SLACK_PORT: "3002"
  SLACK_MAX_RESPONSE_LENGTH: "4000"
  SLACK_RETRY_ATTEMPTS: "3"
  SLACK_RETRY_DELAY: "1000"
  SLACK_DEFAULT_REPOSITORY: "demo-repo"
  
  # Health server configuration
  HEALTH_PORT: "8080"
  
  # Demo mode configuration
  DEMO_MODE: "false"
  DEMO_PREDICTABLE_RESPONSES: "true"
  DEMO_FALLBACK_ON_ERROR: "true"